v { version=2.9.8 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 0 -190 0 0 { lab=GND}
N -0 -890 0 -250 { lab=#net1}
N 1210 -370 1210 -90 {lab=q1}
N 970 -220 970 -200 {lab=q8}
N 970 -120 970 -90 {lab=#net2}
N 910 -60 930 -60 {lab=GND}
N 910 -60 910 0 {lab=GND}
N 910 0 970 0 {lab=GND}
N 970 -30 970 0 {lab=GND}
N 1210 -30 1210 0 {lab=GND}
N 1210 0 1270 0 {lab=GND}
N 1270 -60 1270 0 {lab=GND}
N 1250 -60 1270 -60 {lab=GND}
N 850 -890 970 -890 {lab=#net1}
N 970 -890 970 -860 {lab=#net1}
N 970 -890 1210 -890 {lab=#net1}
N 1210 -890 1210 -860 {lab=#net1}
N 1150 0 1210 0 {lab=GND}
N 760 0 910 0 {lab=GND}
N 1210 -640 1210 -370 {lab=q1}
N 410 -390 460 -390 {lab=ptat_int}
N 540 -330 540 0 {lab=GND}
N 540 -710 540 -450 {lab=#net1}
N 410 -520 410 -390 {lab=ptat_int}
N 410 -520 810 -520 {lab=ptat_int}
N 810 -790 880 -790 {lab=ptat_int}
N 300 -890 540 -890 {lab=#net1}
N 970 -60 1030 -60 { lab=GND}
N 1030 -60 1030 0 { lab=GND}
N 1150 -60 1210 -60 { lab=GND}
N 1150 -60 1150 0 { lab=GND}
N 970 0 1030 0 {lab=GND}
N 1030 0 1150 0 {lab=GND}
N 970 -640 970 -410 { lab=q8}
N 300 -890 300 -730 { lab=#net1}
N 300 -630 300 0 { lab=GND}
N 540 -710 570 -710 { lab=#net1}
N 570 -890 570 -740 { lab=#net1}
N 540 -890 540 -710 {lab=#net1}
N 540 -890 570 -890 {lab=#net1}
N 840 -860 850 -860 { lab=#net1}
N 850 -890 850 -860 { lab=#net1}
N 810 -890 810 -860 { lab=#net1}
N 810 -820 810 -790 { lab=ptat_int}
N 770 -860 780 -860 { lab=#net1}
N 770 -890 770 -860 { lab=#net1}
N 810 -890 850 -890 {lab=#net1}
N 770 -890 810 -890 {lab=#net1}
N 570 -890 770 -890 {lab=#net1}
N 970 -410 970 -220 {lab=q8}
N 970 -140 970 -120 {lab=#net2}
N 540 0 760 0 {lab=GND}
N 640 -370 1210 -370 { lab=q1}
N 640 -410 970 -410 { lab=q8}
N 810 -790 810 -520 { lab=ptat_int}
N 570 -680 570 -510 { lab=#net3}
N 170 -680 210 -680 { lab=#net1}
N 170 -890 170 -680 { lab=#net1}
N 170 -890 300 -890 { lab=#net1}
N 0 -890 170 -890 { lab=#net1}
N 1270 -0 1500 -0 { lab=GND}
N 300 0 540 0 { lab=GND}
N 0 0 300 0 { lab=GND}
N 2000 0 2030 0 {lab=GND}
N 2030 -420 2030 0 {lab=GND}
N 2030 -750 2030 -540 {lab=#net1}
N 2000 -890 2030 -890 {lab=#net1}
N 1560 -890 1560 -860 {lab=#net1}
N 2510 -890 2510 -860 {lab=#net1}
N 2300 -890 2510 -890 {lab=#net1}
N 2300 -890 2300 -860 {lab=#net1}
N 2510 0 2700 0 {lab=GND}
N 2700 -30 2700 0 {lab=GND}
N 2510 -30 2510 0 {lab=GND}
N 2490 -60 2510 -60 {lab=GND}
N 2490 -60 2490 0 {lab=GND}
N 2700 -60 2720 -60 {lab=GND}
N 2720 -60 2720 0 {lab=GND}
N 2700 0 2720 0 {lab=GND}
N 2700 -890 2700 -830 {lab=#net1}
N 2740 -800 2780 -800 {lab=cas}
N 2780 -800 2780 -740 {lab=cas}
N 2700 -770 2700 -740 {lab=#net4}
N 2680 -800 2700 -800 {lab=#net1}
N 2680 -890 2680 -800 {lab=#net1}
N 2680 -890 2700 -890 {lab=#net1}
N 2030 -890 2300 -890 {lab=#net1}
N 2490 0 2510 0 {lab=GND}
N 2030 0 2490 0 {lab=GND}
N 1650 -790 1790 -790 {lab=ctat_int}
N 2150 -600 2150 -480 {lab=ctat_int}
N 2110 -480 2150 -480 {lab=ctat_int}
N 1790 -600 2150 -600 { lab=ctat_int}
N 2000 -750 2030 -750 { lab=#net1}
N 2000 -890 2000 -780 { lab=#net1}
N 1920 -890 2000 -890 { lab=#net1}
N 2030 -890 2030 -750 {lab=#net1}
N 1790 -890 1790 -860 { lab=#net1}
N 1820 -860 1830 -860 { lab=#net1}
N 1830 -890 1830 -860 { lab=#net1}
N 1750 -860 1760 -860 { lab=#net1}
N 1750 -890 1750 -860 { lab=#net1}
N 1790 -820 1790 -790 { lab=ctat_int}
N 1750 -890 1790 -890 {lab=#net1}
N 1790 -890 1830 -890 {lab=#net1}
N 1560 -890 1750 -890 {lab=#net1}
N 1560 -500 1560 -410 { lab=#net5}
N 2510 -890 2680 -890 {lab=#net1}
N 2600 -60 2660 -60 { lab=#net6}
N 2600 -140 2600 -60 { lab=#net6}
N 2510 -140 2600 -140 { lab=#net6}
N 2510 -140 2510 -90 { lab=#net6}
N 2510 -560 2510 -140 { lab=#net6}
N 2300 -640 2300 -560 { lab=#net6}
N 2300 -560 2510 -560 { lab=#net6}
N 2550 -60 2600 -60 { lab=#net6}
N 2510 -640 2510 -560 { lab=#net6}
N 1560 -500 1930 -500 { lab=#net5}
N 1790 -770 1790 -600 { lab=ctat_int}
N 2000 -720 2000 -540 { lab=#net7}
N 1900 -890 1920 -890 { lab=#net1}
N 1790 -790 1790 -770 { lab=ctat_int}
N 1830 -890 1900 -890 { lab=#net1}
N 1560 -550 1560 -500 { lab=#net5}
N 1560 -640 1560 -610 { lab=#net8}
N 1210 -890 1560 -890 { lab=#net1}
N 1210 -460 1930 -460 { lab=q1}
N 1560 -350 1560 -0 { lab=GND}
N 1500 0 1560 -0 { lab=GND}
N 1560 -0 2000 -0 { lab=GND}
N 2700 -740 2700 -730 { lab=#net4}
N 2680 -800 2680 -700 { lab=#net1}
N 2680 -700 2700 -700 { lab=#net1}
N 2700 -670 2700 -90 { lab=cas}
N 2780 -740 2780 -700 { lab=cas}
N 2740 -700 2780 -700 { lab=cas}
N 2780 -700 2780 -640 { lab=cas}
N 2700 -640 2780 -640 { lab=cas}
C {vsource.sym} 0 -220 0 0 {name=Vdd value=\{vdd\}}
C {gnd.sym} 0 0 0 0 {name=l1 lab=GND}
C {bandgap_opamp_twostage/bandgap_opamp_twostage.sym} 540 -390 0 1 {name=xptatop}
C {lab_wire.sym} 880 -790 0 0 {name=l2 sig_type=std_logic lab=ptat_int}
C {lab_wire.sym} 1300 -790 0 1 {name=l3 sig_type=std_logic lab=ptat_int}
C {lab_wire.sym} 880 -710 0 0 {name=l4 sig_type=std_logic lab=cas}
C {lab_wire.sym} 1300 -710 0 1 {name=l5 sig_type=std_logic lab=cas}
C {spice_probe.sym} 970 -410 0 0 {name=p6 analysis=tran voltage=0.5487}
C {spice_probe.sym} 1210 -500 0 0 {name=p7 analysis=tran voltage=0.5619}
C {ammeter.sym} 570 -480 0 0 {name=v2 current=6.0192e-06}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 970 -750 0 0 {name=x5 m=8}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 1210 -750 0 1 {name=x6 m=8}
C {sky130_fd_pr/pnp_05v5.sym} 950 -60 0 0 {name=Q1
m=8
model=pnp_05v5_W3p40L3p40
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 1230 -60 0 1 {name=Q2
m=1
model=pnp_05v5_W3p40L3p40
spiceprefix=X
}
C {spice_probe.sym} 570 -550 0 1 {name=p11 analysis=tran voltage=0.6895}
C {bandgap_bmr/bandgap_bmr.sym} 300 -680 0 0 {name=xbmr}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 590 -710 0 1 {name=Mcurr_ptat
L=8
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 390 -680 0 1 {name=l12 sig_type=std_logic lab=bmr_biasv}
C {lab_wire.sym} 610 -710 0 1 {name=l13 sig_type=std_logic lab=bmr_biasv}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 810 -840 1 1 {name=Mdecap_ptat
L=8
W=7
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=16
model=pfet_01v8_lvt
spiceprefix=X
}
C {spice_probe.sym} 810 -520 0 1 {name=p15 analysis=tran voltage=1.478}
C {lab_wire.sym} 970 -220 0 1 {name=l20 sig_type=std_logic lab=q8}
C {lab_wire.sym} 1210 -220 0 1 {name=l24 sig_type=std_logic lab=q1}
C {code.sym} -200 -840 0 0 {name=simulation only_toplevel=false value="
.temp 125

.lib "sky130_fd_pr/models/sky130.lib.spice" sf
.include sky130_fd_pr/models/sky130_fd_pr__model__pnp.model.spice

.param vdd=1.98
.param vcas=0.62

.save all 
*.options savecurrents


.dc temp -40 125 1.65
*.op

.nodeset v(q1)=1 v(q8)=1

Bconverge1 q1 0 I='v(q1) < 0 ? 1000.0 : 0.0'
Bconverge8 q8 0 I='v(q8) < 0 ? 1000.0 : 0.0'



"}
C {bandgap_opamp_twostage/bandgap_opamp_twostage.sym} 2030 -480 0 0 {name=xctatop}
C {lab_wire.sym} 1650 -790 0 1 {name=l7 sig_type=std_logic lab=ctat_int}
C {lab_wire.sym} 1650 -710 0 1 {name=l8 sig_type=std_logic lab=cas}
C {lab_wire.sym} 2210 -710 0 0 {name=l9 sig_type=std_logic lab=cas}
C {lab_wire.sym} 2420 -710 0 0 {name=l10 sig_type=std_logic lab=cas}
C {lab_wire.sym} 2210 -790 0 0 {name=l11 sig_type=std_logic lab=ptat_int}
C {lab_wire.sym} 2420 -790 0 0 {name=l14 sig_type=std_logic lab=ctat_int}
C {lab_wire.sym} 2780 -800 0 0 {name=l15 sig_type=std_logic lab=cas}
C {sky130_fd_pr/pfet_01v8.sym} 2720 -800 0 1 {name=M8
L=8
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=10
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2530 -60 0 1 {name=M3
L=8
W=7
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=4
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2680 -60 0 0 {name=M1
L=8
W=7
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=4
model=nfet_01v8_lvt
spiceprefix=X
}
C {spice_probe.sym} 1560 -500 0 0 {name=p8 analysis=tran voltage=0.5486}
C {spice_probe.sym} 1650 -710 0 0 {name=p12 analysis=tran voltage=1.294}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 1560 -750 0 1 {name=x7 m=8}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 2300 -750 0 0 {name=x10 m=2}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 2510 -750 0 0 {name=x11 m=2}
C {spice_probe.sym} 1850 -600 0 0 {name=p9 analysis=tran voltage=1.444}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1980 -750 0 0 {name=Mcurr_ctat
L=8
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 1960 -750 0 0 {name=l16 sig_type=std_logic lab=bmr_biasv}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1790 -840 1 1 {name=Mdecap_ctat
L=8
W=7
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=48
model=pfet_01v8_lvt
spiceprefix=X
}
C {ammeter.sym} 1560 -580 0 0 {name=Vmeasc current=1.0722e-05}
C {res.sym} 1560 -380 0 0 {name=R2
value=51.16k
footprint=1206
device=resistor
m=1}
C {res.sym} 970 -170 0 0 {name=R1
value=6.624k
footprint=1206
device=resistor
m=1}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 2720 -700 0 1 {name=Mcpdiff1
L=0.5
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=4
model=pfet_01v8_lvt
spiceprefix=X
}
