v { version=2.9.8 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N -100 -670 -100 -340 { lab=vdd}
N 140 -670 310 -670 { lab=vdd}
N 40 -0 310 0 { lab=GND}
N -100 -280 -100 0 { lab=GND}
N 1950 -1000 1950 -980 { lab=ctl_ptat[0]}
N 1950 -1000 1990 -1000 { lab=ctl_ptat[0]}
N 1850 -1000 1850 -980 { lab=ctl_ptat[1]}
N 1850 -1000 1890 -1000 { lab=ctl_ptat[1]}
N 1750 -1000 1750 -980 { lab=ctl_ptat[2]}
N 1750 -1000 1790 -1000 { lab=ctl_ptat[2]}
N 1650 -1000 1650 -980 { lab=ctl_ptat[3]}
N 1650 -1000 1690 -1000 { lab=ctl_ptat[3]}
N 1550 -1000 1550 -980 { lab=ctl_ptat[4]}
N 1550 -1000 1590 -1000 { lab=ctl_ptat[4]}
N 1550 -920 1550 -900 { lab=GND}
N 1850 -900 1950 -900 { lab=GND}
N 1950 -920 1950 -900 { lab=GND}
N 1850 -920 1850 -900 { lab=GND}
N 1750 -920 1750 -900 { lab=GND}
N 1650 -920 1650 -900 { lab=GND}
N 1950 -1200 1950 -1180 { lab=ctl_ctat[0]}
N 1950 -1200 1990 -1200 { lab=ctl_ctat[0]}
N 1850 -1200 1850 -1180 { lab=ctl_ctat[1]}
N 1850 -1200 1890 -1200 { lab=ctl_ctat[1]}
N 1750 -1200 1750 -1180 { lab=ctl_ctat[2]}
N 1750 -1200 1790 -1200 { lab=ctl_ctat[2]}
N 1650 -1200 1650 -1180 { lab=ctl_ctat[3]}
N 1650 -1200 1690 -1200 { lab=ctl_ctat[3]}
N 1550 -1200 1550 -1180 { lab=ctl_ctat[4]}
N 1550 -1200 1590 -1200 { lab=ctl_ctat[4]}
N 1550 -1120 1550 -1100 { lab=GND}
N 1850 -1100 1950 -1100 { lab=GND}
N 1950 -1120 1950 -1100 { lab=GND}
N 1850 -1120 1850 -1100 { lab=GND}
N 1750 -1120 1750 -1100 { lab=GND}
N 1650 -1120 1650 -1100 { lab=GND}
N 310 -670 310 -590 { lab=vdd}
N 140 -670 140 -520 { lab=vdd}
N 140 -450 160 -450 { lab=vdd}
N 140 -520 140 -450 { lab=vdd}
N 140 -520 160 -520 { lab=vdd}
N 140 -370 160 -370 { lab=vdd}
N 140 -390 140 -370 { lab=vdd}
N 140 -390 160 -390 { lab=vdd}
N 140 -410 160 -410 { lab=vdd}
N 1440 -340 1440 -170 { lab=#net1}
N 460 -340 1440 -340 { lab=#net1}
N 1550 -360 1550 -170 { lab=#net2}
N 460 -360 1550 -360 { lab=#net2}
N 1670 -500 1670 -170 { lab=#net3}
N 460 -500 1670 -500 { lab=#net3}
N 460 -520 1770 -520 { lab=#net4}
N 1770 -520 1770 -170 { lab=#net4}
N 460 -540 1870 -540 { lab=#net5}
N 1870 -540 1870 -170 { lab=#net5}
N 1770 0 1870 0 { lab=GND}
N 1870 -110 1870 0 { lab=GND}
N 1770 -110 1770 0 { lab=GND}
N 1670 -110 1670 0 { lab=GND}
N 1550 -110 1550 0 { lab=GND}
N 1440 -110 1440 0 { lab=GND}
N 460 -320 1320 -320 { lab=#net6}
N 1320 -320 1320 -170 { lab=#net6}
N 1320 -110 1320 0 { lab=GND}
N 310 -50 310 0 { lab=GND}
N 140 -270 160 -270 { lab=vdd}
N 140 -290 140 -270 { lab=vdd}
N 140 -290 160 -290 { lab=vdd}
N 140 -310 160 -310 { lab=vdd}
N 580 -30 580 0 { lab=GND}
N 660 -30 660 0 { lab=GND}
N 740 -30 740 0 { lab=GND}
N 460 -100 580 -100 { lab=td_q8}
N 580 -100 580 -90 { lab=td_q8}
N 460 -120 660 -120 { lab=td_q1}
N 660 -120 660 -90 { lab=td_q1}
N 460 -140 740 -140 { lab=td_res}
N 740 -140 740 -90 { lab=td_res}
N 460 -160 820 -160 { lab=GND}
N 820 -160 820 0 { lab=GND}
N 460 -220 930 -220 { lab=#net7}
N 930 -220 930 -170 { lab=#net7}
N 460 -240 1050 -240 { lab=#net8}
N 1050 -240 1050 -170 { lab=#net8}
N 460 -260 1160 -260 { lab=#net9}
N 1160 -260 1160 -170 { lab=#net9}
N 930 -110 930 0 { lab=GND}
N 1050 -110 1050 0 { lab=GND}
N 1160 -110 1160 0 { lab=GND}
N 1450 -1000 1450 -980 { lab=ctl_ptat[5]}
N 1450 -1000 1490 -1000 { lab=ctl_ptat[5]}
N 1450 -920 1450 -900 { lab=GND}
N 1450 -1200 1450 -1180 { lab=ctl_ctat[5]}
N 1450 -1200 1490 -1200 { lab=ctl_ctat[5]}
N 1450 -1120 1450 -1100 { lab=GND}
N 1450 -900 1550 -900 { lab=GND}
N 1450 -1100 1550 -1100 { lab=GND}
N 40 -140 40 -0 { lab=GND}
N 40 -540 40 -200 { lab=#net10}
N 1750 -900 1850 -900 { lab=GND}
N 1650 -900 1750 -900 { lab=GND}
N 1550 -900 1650 -900 { lab=GND}
N 1750 -1100 1850 -1100 { lab=GND}
N 1650 -1100 1750 -1100 { lab=GND}
N 1550 -1100 1650 -1100 { lab=GND}
N -100 -670 140 -670 { lab=vdd}
N 140 -410 140 -390 { lab=vdd}
N 140 -450 140 -410 { lab=vdd}
N 1670 0 1770 0 { lab=GND}
N 1550 0 1670 0 { lab=GND}
N 1440 0 1550 0 { lab=GND}
N 1320 0 1440 0 { lab=GND}
N 1160 0 1320 0 { lab=GND}
N 140 -310 140 -290 { lab=vdd}
N 140 -370 140 -310 { lab=vdd}
N 310 0 580 0 { lab=GND}
N 580 0 660 0 { lab=GND}
N 660 0 740 0 { lab=GND}
N 740 0 820 0 { lab=GND}
N 820 0 930 0 { lab=GND}
N 930 0 1050 0 { lab=GND}
N 1050 0 1160 0 { lab=GND}
N -100 0 40 -0 { lab=GND}
N 40 -540 160 -540 { lab=#net10}
N 40 -470 160 -470 { lab=#net10}
N 40 -330 160 -330 { lab=#net10}
C {code.sym} 1620 -720 0 0 {name=simulation only_toplevel=false value="
.temp 27

.lib "sky130_fd_pr/models/sky130.lib.spice" tt
.include sky130_fd_pr/models/sky130_fd_pr__model__pnp.model.spice

.param vdd=1.8

.param en=1.8

.param ctl_ctat5=1.8
.param ctl_ctat4=0.0
.param ctl_ctat3=0.0
.param ctl_ctat2=0.0
.param ctl_ctat1=0.0
.param ctl_ctat0=0.0

.param ctl_ptat5=1.8
.param ctl_ptat4=0.0
.param ctl_ptat3=0.0
.param ctl_ptat2=0.0
.param ctl_ptat1=0.0
.param ctl_ptat0=0.0

.save v(bg1_volt) v(bg3_volt) v(bg4_volt) i(Vbg3_curr_ctat) v(td_res) v(td_q1) v(td_q8) i(Vbg3_curr_ptat) i(Vbg1_curr) i(Vbg1_curr_ctat) i(Vbg1_curr_ptat) i(Vbg3_Curr) i(Vbg4_curr_ctat) i(Vbg4_curr_ptat) i(Vbg4_curr)

.options savecurrents
.options rshunt=1000000k

*.op
.dc temp -40 125 1

.nodeset v(xdut.xbandgap1.q1)=1 v(xdut.xbandgap1.q8)=1 v(xdut.xbandgap1.ctat_r)
Bconverge11 xdut.xbandgap1.q1 0 I='v(xdut.xbandgap1.q1) < 0.0 ? 1000.0 : 0.0'
Bconverge18 xdut.xbandgap1.q8 0 I='v(xdut.xbandgap1.q8) < 0.0 ? 1000.0 : 0.0'
Bconverge1r xdut.xbandgap1.ctat_r 0 I='v(xdut.xbandgap1.ctat_r) < 0.0 ? 1000.0 : 0.0'

.nodeset v(xdut.xbandgap2.q1)=1 v(xdut.xbandgap2.q8)=1 v(xdut.xbandgap2.ctat_r)
Bconverge21 xdut.xbandgap2.q1 0 I='v(xdut.xbandgap2.q1) < 0.0 ? 1000.0 : 0.0'
Bconverge28 xdut.xbandgap2.q8 0 I='v(xdut.xbandgap2.q8) < 0.0 ? 1000.0 : 0.0'
Bconverge2r xdut.xbandgap2.ctat_r 0 I='v(xdut.xbandgap2.ctat_r) < 0.0 ? 1000.0 : 0.0'
"}
C {vsource.sym} -100 -310 0 0 {name=Vdd value="dc=\{vdd\} ac=0"}
C {gnd.sym} -100 0 0 0 {name=l1 lab=GND}
C {lab_wire.sym} -100 -670 0 1 {name=l2 sig_type=std_logic lab=vdd}
C {vsource.sym} 1550 -950 0 0 {name=Vctl_ptat4 value=\{ctl_ptat4\}}
C {vsource.sym} 1650 -950 0 0 {name=Vctl_ptat3 value=\{ctl_ptat3\}}
C {vsource.sym} 1750 -950 0 0 {name=Vctl_ptat2 value=\{ctl_ptat2\}}
C {vsource.sym} 1850 -950 0 0 {name=Vctl_ptat1 value=\{ctl_ptat1\}}
C {vsource.sym} 1950 -950 0 0 {name=Vctl_ptat0 value=\{ctl_ptat0\}}
C {lab_wire.sym} 1950 -1000 0 1 {name=l25 sig_type=std_logic lab=ctl_ptat[0]}
C {lab_wire.sym} 1850 -1000 0 1 {name=l26 sig_type=std_logic lab=ctl_ptat[1]}
C {lab_wire.sym} 1750 -1000 0 1 {name=l27 sig_type=std_logic lab=ctl_ptat[2]}
C {lab_wire.sym} 1650 -1000 0 1 {name=l28 sig_type=std_logic lab=ctl_ptat[3]}
C {lab_wire.sym} 1550 -1000 0 1 {name=l29 sig_type=std_logic lab=ctl_ptat[4]}
C {vsource.sym} 1550 -1150 0 0 {name=Vctl_ctat4 value=\{ctl_ctat4\}}
C {vsource.sym} 1650 -1150 0 0 {name=Vctl_ctat3 value=\{ctl_ctat3\}}
C {vsource.sym} 1750 -1150 0 0 {name=Vctl_ctat2 value=\{ctl_ctat2\}}
C {vsource.sym} 1850 -1150 0 0 {name=Vctl_ctat1 value=\{ctl_ctat1\}}
C {vsource.sym} 1950 -1150 0 0 {name=Vctl_ctat0 value=\{ctl_ctat0\}}
C {lab_wire.sym} 1950 -1200 0 1 {name=l9 sig_type=std_logic lab=ctl_ctat[0]}
C {lab_wire.sym} 1850 -1200 0 1 {name=l10 sig_type=std_logic lab=ctl_ctat[1]}
C {lab_wire.sym} 1750 -1200 0 1 {name=l11 sig_type=std_logic lab=ctl_ctat[2]}
C {lab_wire.sym} 1650 -1200 0 1 {name=l12 sig_type=std_logic lab=ctl_ctat[3]}
C {lab_wire.sym} 1550 -1200 0 1 {name=l13 sig_type=std_logic lab=ctl_ctat[4]}
C {code.sym} 1740 -720 0 0 {name=STDCELL_MODELS 
only_toplevel=true
place=end
format=tcleval(@value\\)
value="[sky130_models]"
}
C {bandgap_collection/bandgap_collection.sym} 310 -440 0 0 {name=xdut}
C {lab_wire.sym} 460 -300 0 1 {name=l3 sig_type=std_logic lab=bg3_volt}
C {lab_wire.sym} 460 -480 0 1 {name=l16 sig_type=std_logic lab=bg1_volt}
C {lab_wire.sym} 460 -440 0 1 {name=l17 sig_type=std_logic lab=bg2_ptat}
C {lab_wire.sym} 460 -420 0 1 {name=l18 sig_type=std_logic lab=bg2_ctat}
C {lab_wire.sym} 460 -400 0 1 {name=l19 sig_type=std_logic lab=bg2_cas}
C {ammeter.sym} 1440 -140 0 0 {name=Vbg3_curr_ctat}
C {ammeter.sym} 1550 -140 0 0 {name=Vbg3_curr_ptat}
C {ammeter.sym} 1670 -140 0 0 {name=Vbg1_curr}
C {ammeter.sym} 1770 -140 0 0 {name=Vbg1_curr_ctat}
C {ammeter.sym} 1870 -140 0 0 {name=Vbg1_curr_ptat}
C {ammeter.sym} 1320 -140 0 0 {name=Vbg3_Curr}
C {isource.sym} 740 -60 2 1 {name=I1 value=1m}
C {isource.sym} 580 -60 2 1 {name=I2 value=1u}
C {isource.sym} 660 -60 2 1 {name=I3 value=1u}
C {ammeter.sym} 1050 -140 0 0 {name=Vbg4_curr_ctat}
C {ammeter.sym} 1160 -140 0 0 {name=Vbg4_curr_ptat}
C {ammeter.sym} 930 -140 0 0 {name=Vbg4_curr}
C {lab_wire.sym} 460 -200 0 1 {name=l4 sig_type=std_logic lab=bg4_volt}
C {vsource.sym} 1450 -950 0 0 {name=Vctl_ptat5 value=\{ctl_ptat5\}}
C {gnd.sym} 1450 -900 0 0 {name=l5 lab=GND}
C {lab_wire.sym} 1450 -1000 0 1 {name=l6 sig_type=std_logic lab=ctl_ptat[5]}
C {vsource.sym} 1450 -1150 0 0 {name=Vctl_ctat5 value=\{ctl_ctat5\}}
C {gnd.sym} 1450 -1100 0 0 {name=l14 lab=GND}
C {lab_wire.sym} 1450 -1200 0 1 {name=l15 sig_type=std_logic lab=ctl_ctat[5]}
C {lab_wire.sym} 460 -140 0 1 {name=l7 sig_type=std_logic lab=td_res}
C {lab_wire.sym} 460 -120 0 1 {name=l8 sig_type=std_logic lab=td_q1}
C {lab_wire.sym} 460 -100 0 1 {name=l20 sig_type=std_logic lab=td_q8}
C {vsource.sym} 40 -170 0 0 {name=Ven value="dc=\{en\}"}
