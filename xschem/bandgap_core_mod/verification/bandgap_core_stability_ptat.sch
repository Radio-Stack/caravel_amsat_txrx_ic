v { version=2.9.8 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 1310 -430 1310 -90 {lab=#net1}
N 1070 -530 1070 -220 {lab=#net2}
N 1010 -60 1030 -60 {lab=GND}
N 1010 -60 1010 0 {lab=GND}
N 1010 0 1070 0 {lab=GND}
N 1070 -30 1070 0 {lab=GND}
N 1310 -30 1310 0 {lab=GND}
N 1310 0 1370 0 {lab=GND}
N 1370 -60 1370 0 {lab=GND}
N 1350 -60 1370 -60 {lab=GND}
N 750 -1150 1070 -1150 {lab=vdd}
N 1070 -1150 1070 -1120 {lab=vdd}
N 1070 -1150 1310 -1150 {lab=vdd}
N 1310 -1150 1310 -1120 {lab=vdd}
N 1250 0 1310 0 {lab=GND}
N 440 0 1010 0 {lab=GND}
N 1310 -490 1310 -430 {lab=#net1}
N 1370 0 1560 0 {lab=GND}
N 440 -450 440 0 {lab=GND}
N 1560 -470 2010 -470 {lab=#net3}
N 1310 -1150 1560 -1150 {lab=vdd}
N 440 -970 440 -570 {lab=vdd}
N 2110 -750 2110 -510 {lab=vdd}
N 2080 -1150 2110 -1150 {lab=vdd}
N 1560 -1150 1560 -1120 {lab=vdd}
N 2500 -1150 2500 -1120 {lab=vdd}
N 2290 -1150 2500 -1150 {lab=vdd}
N 2290 -1150 2290 -1120 {lab=vdd}
N 2500 -120 2500 -90 {lab=#net4}
N 2290 -910 2290 -830 {lab=#net4}
N 2290 -830 2500 -830 {lab=#net4}
N 2570 -60 2750 -60 {lab=#net4}
N 2500 -120 2570 -120 {lab=#net4}
N 2570 -120 2570 -60 {lab=#net4}
N 2500 0 2790 0 {lab=GND}
N 2790 -30 2790 0 {lab=GND}
N 2500 -30 2500 0 {lab=GND}
N 2480 -60 2500 -60 {lab=GND}
N 2480 -60 2480 0 {lab=GND}
N 2790 -60 2810 -60 {lab=GND}
N 2810 -60 2810 0 {lab=GND}
N 2790 0 2810 0 {lab=GND}
N 2110 -1150 2290 -1150 {lab=vdd}
N 2500 -900 2500 -830 {lab=#net4}
N 2540 -60 2570 -60 {lab=#net4}
N 2480 0 2500 0 {lab=GND}
N 2110 0 2480 0 {lab=GND}
N 1650 -1050 1720 -1050 {lab=ctat}
N 2230 -570 2230 -450 {lab=ctat}
N 2190 -450 2230 -450 {lab=ctat}
N 1720 -570 1720 -550 {lab=ctat}
N 310 -770 310 -510 {lab=ac}
N 870 -1050 980 -1050 {lab=ptat}
N 1720 -430 2010 -430 {lab=#net1}
N 200 -1150 440 -1150 {lab=vdd}
N 200 0 440 0 {lab=GND}
N 1070 -60 1130 -60 { lab=GND}
N 1130 -60 1130 0 { lab=GND}
N 1250 -60 1310 -60 { lab=GND}
N 1250 -60 1250 0 { lab=GND}
N 1070 0 1130 0 {lab=GND}
N 1130 0 1250 0 {lab=GND}
N 2080 -720 2080 -510 { lab=#net5}
N 1070 -900 1070 -670 { lab=#net6}
N 1070 -610 1070 -530 { lab=#net2}
N 1310 -610 1310 -490 { lab=#net1}
N 1310 -900 1310 -670 { lab=#net7}
N 1560 -610 1560 -470 { lab=#net3}
N 1560 -900 1560 -670 { lab=#net8}
N 1310 -430 1720 -430 {lab=#net1}
N 470 -940 470 -630 { lab=#net9}
N 1720 -490 1720 -430 { lab=#net1}
N 1720 -570 2230 -570 { lab=ctat}
N 1720 -1050 1720 -570 {lab=ctat}
N 60 -1150 200 -1150 { lab=vdd}
N 200 -1150 200 -990 { lab=vdd}
N 200 -890 200 0 { lab=GND}
N 0 0 200 0 { lab=GND}
N 60 -940 110 -940 { lab=vdd}
N 60 -1150 60 -940 { lab=vdd}
N 440 -970 470 -970 { lab=vdd}
N 470 -1150 470 -1000 { lab=vdd}
N 2080 -750 2110 -750 { lab=vdd}
N 2080 -1150 2080 -780 { lab=vdd}
N 1560 -1150 2080 -1150 { lab=vdd}
N 440 -1150 440 -970 {lab=vdd}
N 2110 -1150 2110 -750 {lab=vdd}
N 440 -1150 470 -1150 {lab=vdd}
N 0 -1150 60 -1150 { lab=vdd}
N 0 -630 0 0 { lab=GND}
N 0 -1150 0 -690 { lab=vdd}
N 740 -1120 750 -1120 { lab=vdd}
N 750 -1150 750 -1120 { lab=vdd}
N 710 -1150 710 -1120 { lab=vdd}
N 670 -1120 680 -1120 { lab=vdd}
N 670 -1150 670 -1120 { lab=vdd}
N 540 -530 1070 -530 { lab=#net2}
N 1560 -470 1560 -220 { lab=#net3}
N 2790 -880 2790 -90 { lab=cas}
N 2500 -830 2500 -120 { lab=#net4}
N 2110 -390 2110 0 { lab=GND}
N 1070 -160 1070 -90 {lab=#net10}
N 2790 -1150 2790 -1080 {lab=vdd}
N 2830 -1050 2870 -1050 {lab=cas}
N 2870 -1050 2870 -970 {lab=cas}
N 2790 -1020 2790 -990 {lab=#net11}
N 2770 -1050 2790 -1050 {lab=vdd}
N 2770 -1150 2770 -1050 {lab=vdd}
N 2770 -1150 2790 -1150 {lab=vdd}
N 2770 -1050 2770 -970 { lab=vdd}
N 2770 -970 2790 -970 { lab=vdd}
N 2830 -970 2870 -970 { lab=cas}
N 2870 -970 2870 -880 { lab=cas}
N 2790 -880 2870 -880 { lab=cas}
N 2790 -940 2790 -880 { lab=cas}
N 1560 -160 1560 -0 { lab=GND}
N 1560 -0 2110 0 { lab=GND}
N 2500 -1150 2770 -1150 {lab=vdd}
N 310 -510 360 -510 { lab=ac}
N 310 -770 710 -770 { lab=ac}
N 540 -490 1310 -490 { lab=#net1}
N 710 -1050 760 -1050 { lab=ac}
N 710 -1150 750 -1150 {lab=vdd}
N 670 -1150 710 -1150 {lab=vdd}
N 470 -1150 670 -1150 {lab=vdd}
N 710 -1080 710 -1050 { lab=ac}
N 710 -1050 710 -770 { lab=ac}
N 870 -1050 870 -980 { lab=ptat}
N 870 -920 870 -860 { lab=#net12}
N 870 -800 870 -770 { lab=GND}
N 820 -1050 870 -1050 { lab=ptat}
C {bandgap_opamp/bandgap_opamp.sym} 440 -510 0 1 {name=x1}
C {bandgap_opamp/bandgap_opamp.sym} 2110 -450 0 0 {name=x2}
C {lab_wire.sym} 980 -1050 0 0 {name=l1 sig_type=std_logic lab=ptat}
C {lab_wire.sym} 1220 -1050 0 0 {name=l2 sig_type=std_logic lab=ptat}
C {lab_wire.sym} 1650 -1050 0 1 {name=l3 sig_type=std_logic lab=ctat}
C {lab_wire.sym} 980 -970 0 0 {name=l4 sig_type=std_logic lab=cas}
C {lab_wire.sym} 1220 -970 0 0 {name=l5 sig_type=std_logic lab=cas}
C {lab_wire.sym} 1650 -970 0 1 {name=l6 sig_type=std_logic lab=cas}
C {lab_wire.sym} 2200 -970 0 0 {name=l7 sig_type=std_logic lab=cas}
C {lab_wire.sym} 2410 -970 0 0 {name=l8 sig_type=std_logic lab=cas}
C {lab_wire.sym} 2200 -1050 0 0 {name=l9 sig_type=std_logic lab=ptat}
C {lab_wire.sym} 2410 -1050 0 0 {name=l10 sig_type=std_logic lab=ctat}
C {spice_probe.sym} 1070 -530 0 0 {name=p6 analysis=tran voltage=0.7342}
C {spice_probe.sym} 1310 -490 0 0 {name=p7 analysis=tran voltage=0.7341}
C {spice_probe.sym} 1560 -470 0 0 {name=p8 analysis=tran voltage=0.7341}
C {spice_probe.sym} 1650 -970 0 0 {name=p12 analysis=tran voltage=0.5687}
C {ammeter.sym} 470 -600 0 0 {name=v2 current=7.5997e-06}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 1070 -1010 0 0 {name=x5 m=8}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 1310 -1010 0 0 {name=x6 m=8}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 1560 -1010 0 1 {name=x7 m=32}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 2290 -1010 0 0 {name=x10 m=2}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 2500 -1010 0 0 {name=x11 m=2}
C {sky130_fd_pr/pnp_05v5.sym} 1050 -60 0 0 {name=Q1
model="pnp_05v5_W3p40L3p40 m=8"
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 1330 -60 0 1 {name=Q2
m=1
model=pnp_05v5_W3p40L3p40
spiceprefix=X
}
C {ammeter.sym} 1070 -640 0 0 {name=v3 current=7.9258e-06}
C {ammeter.sym} 1310 -640 0 0 {name=v5 current=7.9257e-06}
C {ammeter.sym} 1560 -640 0 0 {name=v6 current=1.2106e-05}
C {capa.sym} 1720 -520 0 0 {name=C1
m=1
value=1m
footprint=1206
device="ceramic capacitor"}
C {spice_probe.sym} 470 -810 0 1 {name=p11 analysis=tran voltage=0.8189}
C {spice_probe.sym} 1780 -570 0 0 {name=p9 analysis=tran voltage=1.004}
C {bandgap_bmr/bandgap_bmr.sym} 200 -940 0 0 {name=x8}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 490 -970 0 1 {name=Mcurr
L=8
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 290 -940 0 1 {name=l12 sig_type=std_logic lab=bmr_biasv}
C {lab_wire.sym} 510 -970 0 1 {name=l13 sig_type=std_logic lab=bmr_biasv}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 2060 -750 0 0 {name=Mcurr1
L=8
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 2040 -750 0 0 {name=l14 sig_type=std_logic lab=bmr_biasv}
C {vsource.sym} 0 -660 0 0 {name=Vdd value=\{vdd\}}
C {gnd.sym} 0 0 0 0 {name=l15 lab=GND}
C {vsource.sym} 870 -830 0 0 {name=Vin value="dc=0 ac=1"}
C {lab_wire.sym} 710 -1050 0 1 {name=l16 sig_type=std_logic lab=ac}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 710 -1100 1 1 {name=Mcurr2
L=8
W=7
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=30
model=pfet_01v8_lvt
spiceprefix=X
}
C {code.sym} 2470 -1370 0 0 {name=simulation only_toplevel=false value="
.temp 27

.lib "sky130_fd_pr/models/sky130.lib.spice" fs
.include sky130_fd_pr/models/sky130_fd_pr__model__pnp.model.spice

.param vdd=1.8

.save all

.ac dec 10 1 1G

*.control
*   run
*   setplot ac1
*   set units=degrees
*   gnuplot bandgap_core_stability_ptat db(ac) ph(ac)
*.endc
"}
C {sky130_fd_pr/pfet_01v8.sym} 2810 -1050 0 1 {name=Mtri_bias_cas
L=8
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=6
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 2810 -970 0 1 {name=Mcas_bias
L=0.35
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=4
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 2800 -880 0 1 {name=l11 sig_type=std_logic lab=cas}
C {res.sym} 1070 -190 0 0 {name=R2
value=12.03k
footprint=1206
device=resistor
m=1}
C {res.sym} 1560 -190 0 0 {name=R1
value=25.8k
footprint=1206
device=resistor
m=1}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2520 -60 0 1 {name=Mcurr_cas_nmirror1
L=8
W=7
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=4
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2770 -60 0 0 {name=Mcurr_cas_nmirror2
L=8
W=7
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=4
model=nfet_01v8_lvt
spiceprefix=X
}
C {res.sym} 790 -1050 3 0 {name=R7
value="1u ac=1G"
device=resistor
m=1
ac=1G}
C {res.sym} 870 -950 2 0 {name=R3
value="1G ac=1u"
device=resistor
m=1
ac=1u}
C {gnd.sym} 870 -770 0 0 {name=l17 lab=GND}
C {lab_wire.sym} 0 -1150 0 1 {name=l18 sig_type=std_logic lab=vdd}
C {lab_wire.sym} 470 -450 2 0 {name=l19 sig_type=std_logic lab=vdd}
C {lab_wire.sym} 2080 -390 2 1 {name=l20 sig_type=std_logic lab=vdd}
C {code.sym} 2610 -1370 0 0 {name=STDCELL_MODELS 
only_toplevel=true
place=end
format=tcleval(@value\\)
value="[sky130_models]"
}
